# 地图高度编辑器

一个用于编辑地图地面高度并根据网格位置自动管理Token高度的Foundry VTT模组。

[English Documentation](README.md)

## 安装

### 方法1: 清单URL
1. 在Foundry VTT中，转到 **附加模组**
2. 点击 **安装模组**
3. 粘贴清单URL: `https://github.com/Rene-Zhou/fvtt-map-height/releases/latest/download/module.json`
4. 点击 **安装**

### 方法2: 手动安装
1. 从 [发布页面](https://github.com/Rene-Zhou/fvtt-map-height/releases) 下载最新版本
2. 将ZIP文件解压到Foundry的 `Data/modules` 目录
3. 重启Foundry VTT
4. 在世界中启用该模组

## 系统要求

- **Foundry VTT**: 版本 12.343 或更高
- **游戏系统**: dnd5e
- **地图类型**: 基于网格的地图（方形网格）

## 使用方法

### 入门指南

1. **激活模组**
   - 在世界的模组设置中启用"地图高度编辑器"
   - 模组界面将出现在侧边栏中（仅GM可见）

2. **启用高度编辑模式**
   - 点击"高度编辑模式"按钮激活编辑
   - 高度覆盖层将显示在画布上

3. **绘制高度**
   - 通过快捷键调整画笔高度
      - ↑/↓: ±10
      - ←/→: ±5
      - +/-: ±1
      - 0: 设置为0
   - 点击网格方块设置其高度
   - 或点击并拖动以绘制多个方块
   - **大面积填充**: 按住 Shift 键点击两个网格顶点以填充矩形区域
     - 第一次 Shift+点击 选择起始顶点（红色高亮）
     - 第二次 Shift+点击 填充整个矩形
     - 悬停在网格上查看黄色预览区域
     - 按 ESC 键取消选择

4. **配置自动更新**
   - 启用"自动更新Token高度"以自动更新Token高度值
   - 具有飞行状态的单位不会自动更新

## 配置

### 模组设置

#### 自动更新Token高度
- **类型**: 世界设置（影响所有玩家）
- **默认值**: 启用
- **描述**: 当Token移动到不同高度网格时自动更新其高度值

#### 高度覆盖层透明度
- **类型**: 客户端设置（每个玩家独立）
- **默认值**: 0.8
- **范围**: 0.0 (透明) 到 1.0 (不透明)
- **描述**: 控制高度数字覆盖层的可见度
